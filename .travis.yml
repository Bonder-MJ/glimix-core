language: python
sudo: required
dist: trusty
git:
  depth: 5
matrix:
  include:
  - python: 2.7
    compiler: clang-3.8
    env: NUMBA="true" LLVM_VERSION="3.8" CXX="clang++-3.8" LLVM_CONFIG="llvm-config-3.8"
      "PATH=~/bin:$PATH"
  - python: 3.5
    compiler: clang-3.8
    env: NUMBA="true" LLVM_VERSION="3.8" CXX="clang++-3.8" LLVM_CONFIG="llvm-config-3.8"
      "PATH=~/bin:$PATH"
  - python: 3.6
    compiler: clang-3.8
    env: NUMBA="true" LLVM_VERSION="3.8" CXX="clang++-3.8" LLVM_CONFIG="llvm-config-3.8"
      "PATH=~/bin:$PATH"
  - sudo: required
    services:
    - docker
    env: DOCKER_IMAGE=quay.io/pypa/manylinux1_x86_64 NUMBA="true"
  - os: osx
    osx_image: xcode7.3
    language: generic
    sudo: required
    env: PYENV=py27
  - os: osx
    osx_image: xcode8.3
    language: generic
    sudo: required
    env: PYENV=py27
  - os: osx
    osx_image: xcode7.3
    language: generic
    sudo: required
    env: PYENV=py35
  - os: osx
    osx_image: xcode8.3
    language: generic
    sudo: required
    env: PYENV=py35
  - os: osx
    osx_image: xcode7.3
    language: generic
    sudo: required
    env: PYENV=py36
  - os: osx
    osx_image: xcode8.3
    language: generic
    sudo: required
    env: PYENV=py36
before_install:
- travis_retry bash <(curl -s https://raw.githubusercontent.com/limix/travis-tools/master/get-travis-tools.sh)
- travis_retry travis/before-install.sh
script:
- travis_retry travis/script.sh
after_success:
- travis_retry travis/after-success.sh
notifications:
  email: false
deploy:
  provider: pypi
  user: dhorta
  password:
    secure: apCcwzNkdWGEN42y1O2fIR8/X9QQj4IQ8oKHc0tQw5IybeZoC6paRGz2Zt52ZaZ+tegropB1fjawmC8MbZkK/uHb5ooeSkhzj+gaFNv+MqFYTY0Je9gV6INJDX/VP8UAnnR9g8ctVpeNGxt6xH7OGdsugDtKNiFhop59Pt5yERDuz9WEGkpdh0U8lQkXtU0GP0a9UshqxOK0zFxaHb5aZ/66yYu1USyTKCVmaHnFyjFMY2ecRuiVSDpuwx7MXif09dZZ1vQadzzC1XaXP0mak0xJXJfajx7X0NO53cIMLSZQFh67UlvZI5x6H9G8iQyz8B5/HvU1NMijXG4C6+IVLaaKRfL1BYhug5EDQT1s7oVt+n/az/3D1sGqmcU7xZ78MQ//HZ8lA1a08qENQAxk4oGyTJ/cil8CYJ8xqeF1MlGNgWRBvP/n5b6/8Om33WCBhcDLOnwr8tyf8oDaple3qAU1xiUZfy7GpWUXuCCmYmQMEhu684J8altDUIBeeECLUirDxuj81A0qBdnGjFQ/SSx1oN04T9XX6CozJ7L9hrbF1DHRTJcXmB56157ozsBbR+EgF2Q6qeBDhLZTzaQeAuOJ5dNgbUILQNVH/cm5aD1cMvJ+5eGfYaJ0dNF4+SvEV/LFb6uoOQcKFKPimDLrVeAn70UaAFZhgp5t/6L3ubc=
  on:
    tags: true
    repo: limix/glimix-core
    branch: master
